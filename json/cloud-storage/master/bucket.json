{"id":"storage\/bucket","type":"","title":"Google\\Cloud\\Storage\\Bucket","name":"Bucket","description":"<p>Buckets are the basic containers that hold your data. Everything that you\nstore in Google Cloud Storage must be contained in a bucket.<\/p>","examples":[{"caption":"","code":"use Google\\Cloud\\Storage\\StorageClient;\n\n$storage = new StorageClient();\n\n$bucket = $storage->bucket('my-bucket');"}],"resources":[],"methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"Storage\/src\/Bucket.php#L98","description":"","examples":[],"resources":[],"params":[{"name":"connection","description":"<p>Represents a connection to Cloud\nStorage.<\/p>","types":["<a data-custom-type=\"cloud-storage\/master\/storage\/connection\/connectioninterface\">Google\\Cloud\\Storage\\Connection\\ConnectionInterface<\/a>"],"optional":false,"nullable":null},{"name":"name","description":"<p>The bucket's name.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"info","description":"<p>The bucket's metadata.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null}],"exceptions":[],"returns":[]},{"id":"acl","type":"instance","name":"acl","source":"Storage\/src\/Bucket.php#L124","description":"<p>Configure ACL for this bucket.<\/p>","examples":[{"caption":"","code":"$acl = $bucket->acl();"}],"resources":[{"title":"More about Access Control Lists","link":"https:\/\/cloud.google.com\/storage\/docs\/access-control"}],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-storage\/master\/storage\/acl\">Google\\Cloud\\Storage\\Acl<\/a>"],"description":"<p>An ACL instance configured to handle the bucket's access\ncontrol policies.<\/p>"}]},{"id":"defaultAcl","type":"instance","name":"defaultAcl","source":"Storage\/src\/Bucket.php#L141","description":"<p>Configure default object ACL for this bucket.<\/p>","examples":[{"caption":"","code":"$acl = $bucket->defaultAcl();"}],"resources":[{"title":"More about Access Control Lists","link":"https:\/\/cloud.google.com\/storage\/docs\/access-control"}],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-storage\/master\/storage\/acl\">Google\\Cloud\\Storage\\Acl<\/a>"],"description":"<p>An ACL instance configured to handle the bucket's default\nobject access control policies.<\/p>"}]},{"id":"exists","type":"instance","name":"exists","source":"Storage\/src\/Bucket.php#L158","description":"<p>Check whether or not the bucket exists.<\/p>","examples":[{"caption":"","code":"if ($bucket->exists()) {\n    echo 'Bucket exists!';\n}"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"description":""}]},{"id":"upload","type":"instance","name":"upload","source":"Storage\/src\/Bucket.php#L270","description":"<p>Upload your data in a simple fashion. Uploads will default to being\nresumable if the file size is greater than 5mb.<\/p>","examples":[{"caption":"","code":"$object = $bucket->upload(\n    fopen(__DIR__ . '\/image.jpg', 'r')\n);"},{"caption":"<p>Upload an object in a resumable fashion while setting a new name for the object and including the content language.<\/p>","code":"$options = [\n    'resumable' => true,\n    'name' => '\/images\/new-name.jpg',\n    'metadata' => [\n        'contentLanguage' => 'en'\n    ]\n];\n\n$object = $bucket->upload(\n    fopen(__DIR__ . '\/image.jpg', 'r'),\n    $options\n);"},{"caption":"<p>Upload an object with a customer-supplied encryption key.<\/p>","code":"$key = base64_encode(openssl_random_pseudo_bytes(32)); \/\/ Make sure to remember your key.\n\n$object = $bucket->upload(\n    fopen(__DIR__ . '\/image.jpg', 'r'),\n    ['encryptionKey' => $key]\n);"},{"caption":"<p>Upload an object utilizing an encryption key managed by the Cloud Key Management Service (KMS).<\/p>","code":"$object = $bucket->upload(\n    fopen(__DIR__ . '\/image.jpg', 'r'),\n    [\n        'metadata' => [\n            'kmsKeyName' => 'projects\/my-project\/locations\/kr-location\/keyRings\/my-kr\/cryptoKeys\/my-key'\n        ]\n    ]\n);"}],"resources":[{"title":"Learn more about resumable\nuploads.","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/how-tos\/upload#resumable"},{"title":"Objects insert API documentation.","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/objects\/insert"},{"title":"Customer-supplied encryption keys.","link":"https:\/\/cloud.google.com\/storage\/docs\/encryption#customer-supplied"}],"params":[{"name":"data","description":"<p>The data to be uploaded.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.resource.php\" target=\"_blank\">resource<\/a>","<a href=\"https:\/\/github.com\/php-fig\/http-message\/blob\/master\/src\/StreamInterface.php\" target=\"_blank\">Psr\\Http\\Message\\StreamInterface<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.null.php\" target=\"_blank\">null<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.name","description":"<p>The name of the destination. Required when data is of type string or null.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.resumable","description":"<p>Indicates whether or not the upload will be performed in a resumable fashion.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":null,"nullable":null},{"name":"options.validate","description":"<p>Indicates whether or not validation will be applied using md5 hashing functionality. If true and the calculated hash does not match that of the upstream server the upload will be rejected.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":null,"nullable":null},{"name":"options.chunkSize","description":"<p>If provided the upload will be done in chunks. The size must be in multiples of 262144 bytes. With chunking you have increased reliability at the risk of higher overhead. It is recommended to not use chunking.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null},{"name":"options.uploadProgressCallback","description":"<p>If provided together with $resumable == true the given callable function\/method will be called after each successfully uploaded chunk. The callable function\/method will receive the number of uploaded bytes after each uploaded chunk as a parameter to this callable. It's useful if you want to create a progress bar when using resumable upload type together with $chunkSize parameter. If $chunkSize is not set the callable function\/method will be called only once after the successful file upload.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.callable.php\" target=\"_blank\">callable<\/a>"],"optional":null,"nullable":null},{"name":"options.predefinedAcl","description":"<p>Predefined ACL to apply to the object. Acceptable values include, <code>\"authenticatedRead\"<\/code>, <code>\"bucketOwnerFullControl\"<\/code>, <code>\"bucketOwnerRead\"<\/code>, <code>\"private\"<\/code>, <code>\"projectPrivate\"<\/code>, and <code>\"publicRead\"<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.metadata","description":"<p>The full list of available options are outlined at the <a href=\"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/objects\/insert#request-body\">JSON API docs<\/a>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.metadata['metadata']","description":"<p>User-provided metadata, in key\/value pairs.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.encryptionKey","description":"<p>A base64 encoded AES-256 customer-supplied encryption key. If you would prefer to manage encryption utilizing the Cloud Key Management Service (KMS) please use the $metadata['kmsKeyName'] setting. Please note if using KMS the key ring must use the same location as the bucket.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.encryptionKeySHA256","description":"<p>Base64 encoded SHA256 hash of the customer-supplied encryption key. This value will be calculated from the <code>encryptionKey<\/code> on your behalf if not provided, but for best performance it is recommended to pass in a cached version of the already calculated SHA.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\InvalidArgumentException","description":""}],"returns":[{"types":["<a data-custom-type=\"cloud-storage\/master\/storage\/storageobject\">Google\\Cloud\\Storage\\StorageObject<\/a>"],"description":""}]},{"id":"getResumableUploader","type":"instance","name":"getResumableUploader","source":"Storage\/src\/Bucket.php#L357","description":"<p>Get a resumable uploader which can provide greater control over the\nupload process. This is recommended when dealing with large files where\nreliability is key.<\/p>","examples":[{"caption":"","code":"$uploader = $bucket->getResumableUploader(\n    fopen(__DIR__ . '\/image.jpg', 'r')\n);\n\ntry {\n    $object = $uploader->upload();\n} catch (GoogleException $ex) {\n    $resumeUri = $uploader->getResumeUri();\n    $object = $uploader->resume($resumeUri);\n}"}],"resources":[{"title":"Learn more about resumable\nuploads.","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/how-tos\/upload#resumable"},{"title":"Objects insert API documentation.","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/objects\/insert"}],"params":[{"name":"data","description":"<p>The data to be uploaded.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.resource.php\" target=\"_blank\">resource<\/a>","<a href=\"https:\/\/github.com\/php-fig\/http-message\/blob\/master\/src\/StreamInterface.php\" target=\"_blank\">Psr\\Http\\Message\\StreamInterface<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.null.php\" target=\"_blank\">null<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.name","description":"<p>The name of the destination. Required when data is of type string or null.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.validate","description":"<p>Indicates whether or not validation will be applied using md5 hashing functionality. If true and the calculated hash does not match that of the upstream server the upload will be rejected.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":null,"nullable":null},{"name":"options.predefinedAcl","description":"<p>Predefined ACL to apply to the object. Acceptable values include <code>\"authenticatedRead<\/code>&quot;, <code>\"bucketOwnerFullControl<\/code>&quot;, <code>\"bucketOwnerRead<\/code>&quot;, <code>\"private<\/code>&quot;, <code>\"projectPrivate<\/code>&quot;, and <code>\"publicRead\"<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.metadata","description":"<p>The available options for metadata are outlined at the <a href=\"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/objects\/insert#request-body\">JSON API docs<\/a>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.encryptionKey","description":"<p>A base64 encoded AES-256 customer-supplied encryption key. If you would prefer to manage encryption utilizing the Cloud Key Management Service (KMS) please use the $metadata['kmsKeyName'] setting. Please note if using KMS the key ring must use the same location as the bucket.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.encryptionKeySHA256","description":"<p>Base64 encoded SHA256 hash of the customer-supplied encryption key. This value will be calculated from the <code>encryptionKey<\/code> on your behalf if not provided, but for best performance it is recommended to pass in a cached version of the already calculated SHA.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.uploadProgressCallback","description":"<p>The given callable function\/method will be called after each successfully uploaded chunk. The callable function\/method will receive the number of uploaded bytes after each uploaded chunk as a parameter to this callable. It's useful if you want to create a progress bar when using resumable upload type together with $chunkSize parameter. If $chunkSize is not set the callable function\/method will be called only once after the successful file upload.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.callable.php\" target=\"_blank\">callable<\/a>"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\InvalidArgumentException","description":""}],"returns":[{"types":["<a data-custom-type=\"cloud-core\/master\/core\/upload\/resumableuploader\">Google\\Cloud\\Core\\Upload\\ResumableUploader<\/a>"],"description":""}]},{"id":"getStreamableUploader","type":"instance","name":"getStreamableUploader","source":"Storage\/src\/Bucket.php#L425","description":"<p>Get a streamable uploader which can provide greater control over the\nupload process. This is useful for generating large files and uploading\nthe contents in chunks.<\/p>","examples":[{"caption":"","code":"$uploader = $bucket->getStreamableUploader(\n    'initial contents',\n    ['name' => 'data.txt']\n);\n\n\/\/ finish uploading the item\n$uploader->upload();"}],"resources":[{"title":"Learn more about resumable\nuploads.","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/how-tos\/upload#resumable"},{"title":"Objects insert API documentation.","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/objects\/insert"}],"params":[{"name":"data","description":"<p>The data to be uploaded.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.resource.php\" target=\"_blank\">resource<\/a>","<a href=\"https:\/\/github.com\/php-fig\/http-message\/blob\/master\/src\/StreamInterface.php\" target=\"_blank\">Psr\\Http\\Message\\StreamInterface<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.name","description":"<p>The name of the destination. Required when data is of type string or null.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.validate","description":"<p>Indicates whether or not validation will be applied using md5 hashing functionality. If true and the calculated hash does not match that of the upstream server the upload will be rejected.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":null,"nullable":null},{"name":"options.chunkSize","description":"<p>If provided the upload will be done in chunks. The size must be in multiples of 262144 bytes. With chunking you have increased reliability at the risk of higher overhead. It is recommended to not use chunking.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null},{"name":"options.predefinedAcl","description":"<p>Predefined ACL to apply to the object. Acceptable values include, <code>\"authenticatedRead\"<\/code>, <code>\"bucketOwnerFullControl\"<\/code>, <code>\"bucketOwnerRead\"<\/code>, <code>\"private\"<\/code>, <code>\"projectPrivate\"<\/code>, and <code>\"publicRead\"<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.metadata","description":"<p>The available options for metadata are outlined at the <a href=\"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/objects\/insert#request-body\">JSON API docs<\/a>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.encryptionKey","description":"<p>A base64 encoded AES-256 customer-supplied encryption key. If you would prefer to manage encryption utilizing the Cloud Key Management Service (KMS) please use the $metadata['kmsKeyName'] setting. Please note if using KMS the key ring must use the same location as the bucket.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.encryptionKeySHA256","description":"<p>Base64 encoded SHA256 hash of the customer-supplied encryption key. This value will be calculated from the <code>encryptionKey<\/code> on your behalf if not provided, but for best performance it is recommended to pass in a cached version of the already calculated SHA.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\InvalidArgumentException","description":""}],"returns":[{"types":["<a data-custom-type=\"cloud-core\/master\/core\/upload\/streamableuploader\">Google\\Cloud\\Core\\Upload\\StreamableUploader<\/a>"],"description":""}]},{"id":"object","type":"instance","name":"object","source":"Storage\/src\/Bucket.php#L466","description":"<p>Lazily instantiates an object. There are no network requests made at this\npoint. To see the operations that can be performed on an object please\nsee <a data-custom-type=\"cloud-storage\/master\/storage\/storageobject\">Google\\Cloud\\Storage\\StorageObject<\/a>.<\/p>","examples":[{"caption":"","code":"$object = $bucket->object('file.txt');"}],"resources":[],"params":[{"name":"name","description":"<p>The name of the object to request.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.generation","description":"<p>Request a specific revision of the object.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.encryptionKey","description":"<p>A base64 encoded AES-256 customer-supplied encryption key. It will be neccesary to provide this when a key was used during the object's creation.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.encryptionKeySHA256","description":"<p>Base64 encoded SHA256 hash of the customer-supplied encryption key. This value will be calculated from the <code>encryptionKey<\/code> on your behalf if not provided, but for best performance it is recommended to pass in a cached version of the already calculated SHA.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-storage\/master\/storage\/storageobject\">Google\\Cloud\\Storage\\StorageObject<\/a>"],"description":""}]},{"id":"objects","type":"instance","name":"objects","source":"Storage\/src\/Bucket.php#L528","description":"<p>Fetches all objects in the bucket.<\/p>","examples":[{"caption":"<p>Get all objects beginning with the prefix 'photo'<\/p>","code":"$objects = $bucket->objects([\n    'prefix' => 'photo',\n    'fields' => 'items\/name,nextPageToken'\n]);\n\nforeach ($objects as $object) {\n    echo $object->name() . PHP_EOL;\n}"}],"resources":[{"title":"Objects list API documentation.","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/objects\/list"}],"params":[{"name":"options","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.delimiter","description":"<p>Returns results in a directory-like mode. Results will contain only objects whose names, aside from the prefix, do not contain delimiter. Objects whose names, aside from the prefix, contain delimiter will have their name, truncated after the delimiter, returned in prefixes. Duplicate prefixes are omitted.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.maxResults","description":"<p>Maximum number of results to return per request. <strong>Defaults to<\/strong> <code>1000<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null},{"name":"options.resultLimit","description":"<p>Limit the number of results returned in total. <strong>Defaults to<\/strong> <code>0<\/code> (return all results).<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null},{"name":"options.pageToken","description":"<p>A previously-returned page token used to resume the loading of results from a specific point.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.prefix","description":"<p>Filter results with this prefix.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.projection","description":"<p>Determines which properties to return. May be either <code>\"full\"<\/code> or <code>\"noAcl\"<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.versions","description":"<p>If true, lists all versions of an object as distinct results. <strong>Defaults to<\/strong> <code>false<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":null,"nullable":null},{"name":"options.fields","description":"<p>Selector which will cause the response to only return the specified fields.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-storage\/master\/storage\/objectiterator\">Google\\Cloud\\Storage\\ObjectIterator<\/a>&lt;<a data-custom-type=\"cloud-storage\/master\/storage\/storageobject\">Google\\Cloud\\Storage\\StorageObject<\/a>&gt;"],"description":""}]},{"id":"createNotification","type":"instance","name":"createNotification","source":"Storage\/src\/Bucket.php#L641","description":"<p>Create a Cloud PubSub notification.<\/p>\n<p>Please note, the desired topic must be given the IAM role of\n&quot;pubsub.publisher&quot; from the service account associated with the project\nwhich contains the bucket you would like to receive notifications from.\nPlease see the example below for a programmatic example of achieving\nthis.<\/p>","examples":[{"caption":"<p>Update the permissions on the desired topic prior to creating the notification.<\/p>","code":"use Google\\Cloud\\Core\\Iam\\PolicyBuilder;\nuse Google\\Cloud\\PubSub\\PubSubClient;\n\n$pubSub = new PubSubClient();\n$topicName = 'my-topic';\n$serviceAccountEmail = $storage->getServiceAccount();\n$topic = $pubSub->topic($topicName);\n$iam = $topic->iam();\n$updatedPolicy = (new PolicyBuilder($iam->policy()))\n    ->addBinding('roles\/pubsub.publisher', [\n        \"serviceAccount:$serviceAccountEmail\"\n    ])\n    ->result();\n$iam->setPolicy($updatedPolicy);\n\n$notification = $bucket->createNotification($topicName);"},{"caption":"<p>Use a fully qualified topic name.<\/p>","code":"$notification = $bucket->createNotification('projects\/my-project\/topics\/my-topic');"},{"caption":"<p>Provide a Topic object from the Cloud PubSub component.<\/p>","code":"use Google\\Cloud\\PubSub\\PubSubClient;\n\n$pubSub = new PubSubClient();\n$topic = $pubSub->topic('my-topic');\n$notification = $bucket->createNotification($topic);"},{"caption":"<p>Supplying event types to trigger the notifications.<\/p>","code":"$notification = $bucket->createNotification('my-topic', [\n    'event_types' => [\n        'OBJECT_DELETE',\n        'OBJECT_METADATA_UPDATE'\n    ]\n]);"}],"resources":[{"title":"Cloud PubSub Notifications.","link":"https:\/\/cloud.google.com\/storage\/docs\/pubsub-notifications"},{"title":"Notifications insert API documentation.","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/notifications\/insert"},{"title":"Registering Object Changes.","link":"https:\/\/cloud.google.com\/storage\/docs\/reporting-changes"}],"params":[{"name":"topic","description":"<p>The topic used to publish notifications.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>","<a data-custom-type=\"cloud-pubsub\/master\/pubsub\/topic\">Google\\Cloud\\PubSub\\Topic<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.custom_attributes","description":"<p>An optional list of additional attributes to attach to each Cloud PubSub message published for this notification subscription.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.event_types","description":"<p>If present, only send notifications about listed event types. If empty, sent notifications for all event types. Acceptablue values include <code>\"OBJECT_FINALIZE\"<\/code>, <code>\"OBJECT_METADATA_UPDATE\"<\/code>, <code>\"OBJECT_DELETE\"<\/code> , <code>\"OBJECT_ARCHIVE\"<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.object_name_prefix","description":"<p>If present, only apply this notification configuration to object names that begin with this prefix.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.payload_format","description":"<p>The desired content of the Payload. Acceptable values include <code>\"JSON_API_V1\"<\/code>, <code>\"NONE\"<\/code>. <strong>Defaults to<\/strong> <code>\"JSON_API_V1\"<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\InvalidArgumentException","description":"When providing a type other than string\n        or {@see Google\\Cloud\\PubSub\\Topic} as $topic."},{"type":"\\Google\\Cloud\\Core\\Exception\\GoogleException","description":"When a project ID has not been detected."}],"returns":[{"types":["<a data-custom-type=\"cloud-storage\/master\/storage\/notification\">Google\\Cloud\\Storage\\Notification<\/a>"],"description":""}]},{"id":"notification","type":"instance","name":"notification","source":"Storage\/src\/Bucket.php#L677","description":"<p>Lazily instantiates a notification. There are no network requests made at\nthis point. To see the operations that can be performed on a notification\nplease see <a data-custom-type=\"cloud-storage\/master\/storage\/notification\">Google\\Cloud\\Storage\\Notification<\/a>.<\/p>","examples":[{"caption":"","code":"$notification = $bucket->notification('4582');"}],"resources":[{"title":"Notifications API documentation.","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/notifications#resource"}],"params":[{"name":"id","description":"<p>The ID of the notification to access.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-storage\/master\/storage\/notification\">Google\\Cloud\\Storage\\Notification<\/a>"],"description":""}]},{"id":"notifications","type":"instance","name":"notifications","source":"Storage\/src\/Bucket.php#L715","description":"<p>Fetches all notifications associated with this bucket.<\/p>","examples":[{"caption":"","code":"$notifications = $bucket->notifications();\n\nforeach ($notifications as $notification) {\n    echo $notification->id() . PHP_EOL;\n}"}],"resources":[{"title":"Notifications list API documentation.","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/notifications\/list"}],"params":[{"name":"options","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.resultLimit","description":"<p>Limit the number of results returned in total. <strong>Defaults to<\/strong> <code>0<\/code> (return all results).<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-core\/master\/core\/iterator\/itemiterator\">Google\\Cloud\\Core\\Iterator\\ItemIterator<\/a>&lt;<a data-custom-type=\"cloud-storage\/master\/storage\/notification\">Google\\Cloud\\Storage\\Notification<\/a>&gt;"],"description":""}]},{"id":"delete","type":"instance","name":"delete","source":"Storage\/src\/Bucket.php#L757","description":"<p>Delete the bucket.<\/p>","examples":[{"caption":"","code":"$bucket->delete();"}],"resources":[{"title":"Buckets delete API documentation.","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/buckets\/delete"}],"params":[{"name":"options","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.ifMetagenerationMatch","description":"<p>If set, only deletes the bucket if its metageneration matches this value.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.ifMetagenerationNotMatch","description":"<p>If set, only deletes the bucket if its metageneration does not match this value.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.pseudo-types.php#language.types.void\" target=\"_blank\">void<\/a>"],"description":""}]},{"id":"update","type":"instance","name":"update","source":"Storage\/src\/Bucket.php#L845","description":"<p>Update the bucket. Upon receiving a result the local bucket's data will\nbe updated.<\/p>","examples":[{"caption":"<p>Enable logging on an existing bucket.<\/p>","code":"$bucket->update([\n    'logging' => [\n        'logBucket' => 'myBucket',\n        'logObjectPrefix' => 'prefix'\n    ]\n]);"}],"resources":[{"title":"Buckets patch API documentation.","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/buckets\/patch"},{"title":"Bucket Labels","link":"https:\/\/cloud.google.com\/storage\/docs\/key-terms#bucket-labels"}],"params":[{"name":"options","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.ifMetagenerationMatch","description":"<p>Makes the return of the bucket metadata conditional on whether the bucket's current metageneration matches the given value.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.ifMetagenerationNotMatch","description":"<p>Makes the return of the bucket metadata conditional on whether the bucket's current metageneration does not match the given value.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.predefinedAcl","description":"<p>Predefined ACL to apply to the bucket. Acceptable values include, <code>\"authenticatedRead\"<\/code>, <code>\"bucketOwnerFullControl\"<\/code>, <code>\"bucketOwnerRead\"<\/code>, <code>\"private\"<\/code>, <code>\"projectPrivate\"<\/code>, and <code>\"publicRead\"<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.predefinedDefaultObjectAcl","description":"<p>Apply a predefined set of default object access controls to this bucket. Acceptable values include, <code>\"authenticatedRead\"<\/code>, <code>\"bucketOwnerFullControl\"<\/code>, <code>\"bucketOwnerRead\"<\/code>, <code>\"private\"<\/code>, <code>\"projectPrivate\"<\/code>, and <code>\"publicRead\"<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.projection","description":"<p>Determines which properties to return. May be either <code>\"full\"<\/code> or <code>\"noAcl\"<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.fields","description":"<p>Selector which will cause the response to only return the specified fields.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.acl","description":"<p>Access controls on the bucket.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.cors","description":"<p>The bucket's Cross-Origin Resource Sharing (CORS) configuration.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.defaultObjectAcl","description":"<p>Default access controls to apply to new objects when no ACL is provided.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.lifecycle","description":"<p>The bucket's lifecycle configuration.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>","<a data-custom-type=\"cloud-storage\/master\/storage\/lifecycle\">Google\\Cloud\\Storage\\Lifecycle<\/a>"],"optional":null,"nullable":null},{"name":"options.logging","description":"<p>The bucket's logging configuration, which defines the destination bucket and optional name prefix for the current bucket's logs.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.storageClass","description":"<p>The bucket's storage class. This defines how objects in the bucket are stored and determines the SLA and the cost of storage. Acceptable values include <code>\"MULTI_REGIONAL\"<\/code>, <code>\"REGIONAL\"<\/code>, <code>\"NEARLINE\"<\/code>, <code>\"COLDLINE\"<\/code>, <code>\"STANDARD\"<\/code> and <code>\"DURABLE_REDUCED_AVAILABILITY\"<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.versioning","description":"<p>The bucket's versioning configuration.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.website","description":"<p>The bucket's website configuration.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.billing","description":"<p>The bucket's billing configuration.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.billing.requesterPays","description":"<p>When <code>true<\/code>, requests to this bucket and objects within it must provide a project ID to which the request will be billed.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":null,"nullable":null},{"name":"options.labels","description":"<p>The Bucket labels. Labels are represented as an array of keys and values. To remove an existing label, set its value to <code>null<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.encryption","description":"<p>Encryption configuration used by default for newly inserted objects.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.encryption.defaultKmsKeyName","description":"<p>A Cloud KMS Key used to encrypt objects uploaded into this bucket. Should be in the format <code>projects\/my-project\/locations\/kr-location\/keyRings\/my-kr\/cryptoKeys\/my-key<\/code>. Please note the KMS key ring must use the same location as the bucket.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.defaultEventBasedHold","description":"<p>When <code>true<\/code>, newly created objects in this bucket will be retained indefinitely until an event occurs, signified by the hold's release.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":null,"nullable":null},{"name":"options.retentionPolicy","description":"<p>Defines the retention policy for a bucket. In order to lock a retention policy, please see <a data-custom-type=\"cloud-storage\/master\/storage\/bucket\" data-method=\"lockRetentionPolicy\">Google\\Cloud\\Storage\\Bucket::lockRetentionPolicy()<\/a>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.retentionPolicy.retentionPeriod","description":"<p>Specifies the duration that objects need to be retained, in seconds. Retention duration must be greater than zero and less than 100 years.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"description":""}]},{"id":"compose","type":"instance","name":"compose","source":"Storage\/src\/Bucket.php#L898","description":"<p>Composes a set of objects into a single object.<\/p>\n<p>Please note that all objects to be composed must come from the same\nbucket.<\/p>","examples":[{"caption":"","code":"$sourceObjects = ['log1.txt', 'log2.txt'];\n$singleObject = $bucket->compose($sourceObjects, 'combined-logs.txt');"},{"caption":"<p>Use an instance of StorageObject.<\/p>","code":"$sourceObjects = [\n    $bucket->object('log1.txt'),\n    $bucket->object('log2.txt')\n];\n\n$singleObject = $bucket->compose($sourceObjects, 'combined-logs.txt');"}],"resources":[{"title":"Objects compose API documentation","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/objects\/compose"}],"params":[{"name":"sourceObjects","description":"<p>The objects to compose.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string[]<\/a>","<a data-custom-type=\"cloud-storage\/master\/storage\/storageobject\">Google\\Cloud\\Storage\\StorageObject[]<\/a>"],"optional":false,"nullable":null},{"name":"name","description":"<p>The name of the composed object.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.predefinedAcl","description":"<p>Predefined ACL to apply to the composed object. Acceptable values include, <code>\"authenticatedRead\"<\/code>, <code>\"bucketOwnerFullControl\"<\/code>, <code>\"bucketOwnerRead\"<\/code>, <code>\"private\"<\/code>, <code>\"projectPrivate\"<\/code>, and <code>\"publicRead\"<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.metadata","description":"<p>Metadata to apply to the composed object. The available options for metadata are outlined at the <a href=\"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/objects\/insert#request-body\">JSON API docs<\/a>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.ifGenerationMatch","description":"<p>Makes the operation conditional on whether the object's current generation matches the given value.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.ifMetagenerationMatch","description":"<p>Makes the operation conditional on whether the object's current metageneration matches the given value.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\InvalidArgumentException","description":""}],"returns":[{"types":["<a data-custom-type=\"cloud-storage\/master\/storage\/storageobject\">Google\\Cloud\\Storage\\StorageObject<\/a>"],"description":""}]},{"id":"info","type":"instance","name":"info","source":"Storage\/src\/Bucket.php#L978","description":"<p>Retrieves the bucket's details. If no bucket data is cached a network\nrequest will be made to retrieve it.<\/p>","examples":[{"caption":"","code":"$info = $bucket->info();\necho $info['location'];"}],"resources":[{"title":"Buckets get API documentation.","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/buckets\/get"}],"params":[{"name":"options","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.ifMetagenerationMatch","description":"<p>Makes the return of the bucket metadata conditional on whether the bucket's current metageneration matches the given value.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.ifMetagenerationNotMatch","description":"<p>Makes the return of the bucket metadata conditional on whether the bucket's current metageneration does not match the given value.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.projection","description":"<p>Determines which properties to return. May be either <code>\"full\"<\/code> or <code>\"noAcl\"<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"description":""}]},{"id":"reload","type":"instance","name":"reload","source":"Storage\/src\/Bucket.php#L1009","description":"<p>Triggers a network request to reload the bucket's details.<\/p>","examples":[{"caption":"","code":"$bucket->reload();\n$info = $bucket->info();\necho $info['location'];"}],"resources":[{"title":"Buckets get API documentation.","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/buckets\/get"}],"params":[{"name":"options","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.ifMetagenerationMatch","description":"<p>Makes the return of the bucket metadata conditional on whether the bucket's current metageneration matches the given value.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.ifMetagenerationNotMatch","description":"<p>Makes the return of the bucket metadata conditional on whether the bucket's current metageneration does not match the given value.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.projection","description":"<p>Determines which properties to return. May be either <code>\"full\"<\/code> or <code>\"noAcl\"<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"description":""}]},{"id":"name","type":"instance","name":"name","source":"Storage\/src\/Bucket.php#L1024","description":"<p>Retrieves the bucket's name.<\/p>","examples":[{"caption":"","code":"echo $bucket->name();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"description":""}]},{"id":"lifecycle","type":"instance","name":"lifecycle","source":"Storage\/src\/Bucket.php#L1059","description":"<p>Retrieves a fresh lifecycle builder. If a lifecyle configuration already\nexists on the target bucket and this builder is used, it will fully\nreplace the configuration with the rules provided by this builder.<\/p>\n<p>This builder is intended to be used in tandem with\n<a data-custom-type=\"cloud-storage\/master\/storage\/storageclient\" data-method=\"createBucket\">Google\\Cloud\\Storage\\StorageClient::createBucket()<\/a> and\n<a data-custom-type=\"cloud-storage\/master\/storage\/bucket\" data-method=\"update\">Google\\Cloud\\Storage\\Bucket::update()<\/a>.<\/p>","examples":[{"caption":"","code":"use Google\\Cloud\\Storage\\Bucket;\n\n$lifecycle = Bucket::lifecycle()\n    ->addDeleteRule([\n        'age' => 50,\n        'isLive' => true\n    ]);\n$bucket->update([\n    'lifecycle' => $lifecycle\n]);"}],"resources":[{"title":"Object Lifecycle Management API Documentation","link":"https:\/\/cloud.google.com\/storage\/docs\/lifecycle"}],"params":[{"name":"lifecycle","description":"<p>A lifecycle configuration. Please see\n<a href=\"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/buckets#lifecycle\">here<\/a>\nfor the expected structure.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-storage\/master\/storage\/lifecycle\">Google\\Cloud\\Storage\\Lifecycle<\/a>"],"description":""}]},{"id":"currentLifecycle","type":"instance","name":"currentLifecycle","source":"Storage\/src\/Bucket.php#L1103","description":"<p>Retrieves a lifecycle builder preconfigured with the lifecycle rules that\nalready exists on the bucket. Use this if you want to make updates to an\nexisting configuration without removing existing rules, as would be the\ncase when using <a data-custom-type=\"cloud-storage\/master\/storage\/bucket\" data-method=\"lifecycle\">Google\\Cloud\\Storage\\Bucket::lifecycle()<\/a>.<\/p>\n<p>This builder is intended to be used in tandem with\n<a data-custom-type=\"cloud-storage\/master\/storage\/storageclient\" data-method=\"createBucket\">Google\\Cloud\\Storage\\StorageClient::createBucket()<\/a> and\n<a data-custom-type=\"cloud-storage\/master\/storage\/bucket\" data-method=\"update\">Google\\Cloud\\Storage\\Bucket::update()<\/a>.<\/p>\n<p>Please note, this method may trigger a network request in order to fetch\nthe existing lifecycle rules from the server.<\/p>","examples":[{"caption":"","code":"$lifecycle = $bucket->currentLifecycle()\n    ->addDeleteRule([\n        'age' => 50,\n        'isLive' => true\n    ]);\n$bucket->update([\n    'lifecycle' => $lifecycle\n]);"},{"caption":"<p>Iterate over existing rules.<\/p>","code":"$lifecycle = $bucket->currentLifecycle();\n\nforeach ($lifecycle as $rule) {\n    print_r($rule);\n}"}],"resources":[{"title":"Object Lifecycle Management API Documentation","link":"https:\/\/cloud.google.com\/storage\/docs\/lifecycle"}],"params":[{"name":"options","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-storage\/master\/storage\/lifecycle\">Google\\Cloud\\Storage\\Lifecycle<\/a>"],"description":""}]},{"id":"isWritable","type":"instance","name":"isWritable","source":"Storage\/src\/Bucket.php#L1121","description":"<p>Returns whether the bucket with the given file prefix is writable.<\/p>\n<p>Tries to create a temporary file as a resumable upload which will\nnot be completed (and cleaned up by GCS).<\/p>","examples":[],"resources":[],"params":[{"name":"file","description":"<p>File to try to write.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":true,"nullable":null}],"exceptions":[{"type":"\\Google\\Cloud\\Core\\Exception\\ServiceException","description":""}],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"description":""}]},{"id":"iam","type":"instance","name":"iam","source":"Storage\/src\/Bucket.php#L1161","description":"<p>Manage the IAM policy for the current Bucket.<\/p>\n<p>Please note that this method may not yet be available in your project.<\/p>","examples":[{"caption":"","code":"$iam = $bucket->iam();"}],"resources":[{"title":"Storage Access Control Documentation","link":"https:\/\/cloud.google.com\/storage\/docs\/access-control\/iam-with-json-and-xml"},{"title":"Get Bucket IAM Policy","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/buckets\/getIamPolicy"},{"title":"Set Bucket IAM Policy","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/buckets\/setIamPolicy"},{"title":"Test Bucket Permissions","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/buckets\/testIamPermissions"}],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-core\/master\/core\/iam\/iam\">Google\\Cloud\\Core\\Iam\\Iam<\/a>"],"description":""}]},{"id":"lockRetentionPolicy","type":"instance","name":"lockRetentionPolicy","source":"Storage\/src\/Bucket.php#L1221","description":"<p>Locks a provided retention policy on this bucket. Upon receiving a result,\nthe local bucket's data will be updated.<\/p>\n<p>Please note that in order for this call to succeed, the applicable\nmetageneration value will need to be available. It can either be supplied\nexplicitly through the <code>ifMetagenerationMatch<\/code> option or detected for you\nby ensuring a value is cached locally (by calling\n<a data-custom-type=\"cloud-storage\/master\/storage\/bucket\" data-method=\"reload\">Google\\Cloud\\Storage\\Bucket::reload()<\/a> or\n<a data-custom-type=\"cloud-storage\/master\/storage\/bucket\" data-method=\"info\">Google\\Cloud\\Storage\\Bucket::info()<\/a>, for example).<\/p>","examples":[{"caption":"<p>Set a retention policy.<\/p>","code":"$bucket->update([\n    'retentionPolicy' => [\n        'retentionPeriod' => 604800 \/\/ One week in seconds.\n    ]\n]);\n\/\/ Lock in the policy.\n$info = $bucket->lockRetentionPolicy();\n$retentionPolicy = $info['retentionPolicy'];\n\n\/\/ View the time from which the policy was enforced and effective. (RFC 3339 format)\necho $retentionPolicy['effectiveTime'] . PHP_EOL;\n\n\/\/ View whether or not the retention policy is locked. This will be\n\/\/ `true` after a successful call to `lockRetentionPolicy`.\necho $retentionPolicy['isLocked'];"}],"resources":[{"title":"Bucket Lock Documentation","link":"https:\/\/cloud.google.com\/storage\/docs\/bucket-lock"}],"params":[{"name":"options","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.ifMetagenerationMatch","description":"<p>Only locks the retention policy if the bucket's metageneration matches this value. If not provided the locally cached metageneration value will be used, otherwise an exception will be thrown.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\BadMethodCallException","description":"If no metageneration value is available."}],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"description":""}]}]}